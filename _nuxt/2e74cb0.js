(window.webpackJsonp=window.webpackJsonp||[]).push([[7,12],{595:function(t,e,n){var content=n(604);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("445c8038",content,!0,{sourceMap:!1})},602:function(t,e,n){"use strict";var r=n(2),o=(n(51),n(57),n(239),n(13),n(3),n(10),n(49),n(104),n(14),n(19),n(23),n(24),n(8)),c=n(94),l=n(111);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:f({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},603:function(t,e,n){"use strict";n(595)},604:function(t,e,n){var r=n(21)(!1);r.push([t.i,".vuetify-logo{height:180px;width:180px;transform:rotateY(560deg);-webkit-animation:turn 3.5s ease-out 1s forwards;animation:turn 3.5s ease-out 1s forwards}@-webkit-keyframes turn{to{transform:rotateY(0deg)}}@keyframes turn{to{transform:rotateY(0deg)}}",""]),t.exports=r},606:function(t,e,n){"use strict";n.r(e);n(603);var r=n(70),component=Object(r.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"vuetify-logo",attrs:{alt:"Vuetify Logo",src:"/vuetify-logo.svg"}})}),[],!1,null,null,null);e.default=component.exports},776:function(t,e,n){"use strict";n.r(e);n(54),n(40),n(77),n(39),n(25),n(19),n(84),n(91),n(45);var r=n(18),o=(n(42),n(13),n(3),n(28),n(606));function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){d=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d=n(340),f={components:{VuetifyLogo:o.default},data:function(){return{singleSelect:!1,selected:[],dialog:!1,deleteId:"",editId:"",edit:!1,dialogDelete:!1,headers:[{text:"Department Name",align:"start",sortable:!1,value:"dname"}],departments:[],editedIndex:-1,editedItem:{id:"",dname:""},defaultItem:{id:"",dname:""},rules:[function(t){return!!t||"Required."}],valid:!1}},computed:{formTitle:function(){return 0==this.edit?"New Department":"Edit Department"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){"admin"!=this.$auth.user.permission&&"manager"!=this.$auth.user.permission||(this.headers=[{text:"Department Name",align:"start",sortable:!1,value:"dname"},{text:"Actions",value:"actions",sortable:!1}]),this.initialize()},methods:{initialize:function(){var t=this,e=this.$cookies.get("directus_access_token"),data=JSON.stringify({query:"query {\n          department {\n            id\n            dname\n          }\n        }",variables:{}}),n={method:"post",url:"".concat("https://5mee2e5z.directus.app","/graphql"),headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},data:data};d(n).then((function(e){var data=e.data;if(t.departments=[],data.data.department.length>0)try{var n,r=c(data.data.department);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.departments.push(o)}}catch(t){r.e(t)}finally{r.f()}}catch(t){}})).catch((function(t){console.log(t)}))},save:function(){if(this.$refs.form.validate()){var t=this,e=this.$cookies.get("directus_access_token"),data=JSON.stringify({query:'mutation {\n            create_department_item(data:{dname:"'.concat(this.editedItem.dname,'",status:"active"}) {\n              id\n              dname\n            }\n          }'),variables:{}}),n={method:"post",url:"".concat("https://5mee2e5z.directus.app","/graphql"),headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},data:data};d(n).then((function(e){console.log(e),t.close(),t.initialize()})).catch((function(t){console.log(t)}))}},editItem:function(t){var e=this.departments.filter((function(e){return e.id==t}));this.editedItem=e[0],this.editId=t,this.edit=!0,this.dialog=!0},updateTask:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.form.validate()&&(t.editedItem.id=t.editId,n=t,r=t.$cookies.get("directus_access_token"),data=JSON.stringify({query:'mutation {\n            update_department_item(id:"'.concat(t.editedItem.id,'",data:{dname:"').concat(t.editedItem.dname,'",status:"active"}) {\n              id\n              dname\n            }\n          }'),variables:{}}),o={method:"post",url:"".concat("https://5mee2e5z.directus.app","/graphql"),headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},data:data},d(o).then((function(t){console.log(t),n.close(),n.initialize()})).catch((function(t){console.log(t)})));case 1:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){this.dialogDelete=!0,this.deleteId=t},deleteItemConfirm:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,data,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.deleteId,r=t,o=t.$cookies.get("directus_access_token"),data=JSON.stringify({query:'mutation {\n          delete_department_item(id:"'.concat(n,'") {\n            id\n          }\n        }'),variables:{}}),c={method:"post",url:"".concat("https://5mee2e5z.directus.app","/graphql"),headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},data:data},d(c).then((function(t){console.log(t),r.closeDelete(),r.initialize()})).catch((function(t){console.log(t)}));case 6:case"end":return e.stop()}}),e)})))()},close:function(){var t=this;this.dialog=!1,this.edit=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))}}},m=n(70),h=n(73),v=n.n(h),y=n(245),_=n(231),w=n(135),x=n(792),k=n(581),I=n(858),O=n(577),j=n(610),C=n(602),D=n(230),V=n(795),$=n(579),B=n(630),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-data-table",{attrs:{headers:t.headers,items:t.departments,"sort-by":"dname","show-select":"","item-key":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-row",[n("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u(["admin"==t.$auth.user.permission||"manager"==t.$auth.user.permission?{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"mb-2 text-caption text-sm-button font-weight-medium",attrs:{color:"primary",dark:""}},"v-btn",o,!1),r),[t._v("\n              Add New Department\n            ")])]}}:null],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h6 text-sm-h5 font-weight-regular"},[t._v(t._s(t.formTitle))])]),t._v(" "),n("v-card-text",[n("v-container",{staticClass:"px-0"},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{filled:"",label:"Department Name",rules:t.rules},model:{value:t.editedItem.dname,callback:function(e){t.$set(t.editedItem,"dname",e)},expression:"editedItem.dname"}})],1)],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),t.edit?t._e():n("v-card-actions",[n("v-btn",{staticClass:"text-caption text-sm-button font-weight-medium",attrs:{block:"",large:"",color:"primary"},on:{click:t.save}},[t._v("\n                  Save\n                ")])],1),t._v(" "),t.edit?n("v-card-actions",[n("v-btn",{staticClass:"text-caption text-sm-button font-weight-medium",attrs:{block:"",large:"",color:"primary"},on:{click:t.updateTask}},[t._v("\n                  Update\n                ")])],1):t._e(),t._v(" "),n("v-card-actions",[n("v-btn",{staticClass:"text-caption text-sm-button font-weight-medium",attrs:{block:""},on:{click:t.close}},[t._v("\n                  Cancel\n                ")])],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this item?")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{on:{click:t.closeDelete}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.deleteItemConfirm}},[t._v("OK")]),t._v(" "),n("v-spacer")],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r.id)}}},[t._v("\n      mdi-pencil\n    ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r.id)}}},[t._v("\n      mdi-delete\n    ")])]}},{key:"no-data",fn:function(){return[n("div",{staticClass:"d-flex align-center justify-center my-16 text-subtitle-2 text-sm-subtitle-1 font-weight-bold"},[t._v("\n      No Data Found "),n("br"),t._v(" Add New Department\n    ")])]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})}),[],!1,null,null,null);e.default=component.exports;v()(component,{VBtn:y.a,VCard:_.a,VCardActions:w.a,VCardText:w.b,VCardTitle:w.c,VCol:x.a,VContainer:k.a,VDataTable:I.a,VDialog:O.a,VDivider:j.a,VForm:C.a,VIcon:D.a,VRow:V.a,VSpacer:$.a,VTextField:B.a})}}]);